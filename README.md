
# Postcodes API

## –û–ø–∏—Å

–¶–µ–π –ø—Ä–æ—î–∫—Ç –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è, —Ä–æ–∑–ø–∞–∫—É–≤–∞–Ω–Ω—è —Ç–∞ —ñ–º–ø–æ—Ä—Ç—É —ñ–Ω–¥–µ–∫—Å—ñ–≤ –≤—ñ–¥ –£–∫—Ä–ø–æ—à—Ç–∏ –≤ –±–∞–∑—É –¥–∞–Ω–∏—Ö. 
–°–∫—Ä–∏–ø—Ç –ø—Ä–∞—Ü—é—î –Ω–∞ PHP (Slim 4) —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î MySQL –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö. –£—Å—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —Ä–æ–∑–≥–æ—Ä—Ç–∞—é—Ç—å—Å—è –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö. 
Frontend –ø—Ä–∞—Ü—é—î –Ω–∞ Vue.js. 

## –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

–î–ª—è —Ä–æ–±–æ—Ç–∏ –ø—Ä–æ—î–∫—Ç—É –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –º–∞—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ:
- [Docker](https://docs.docker.com/get-docker/)
- [npm](https://www.npmjs.com/)

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
```sh
  git clone https://github.com/SashaSolovey1/postcodes.git
  cd postcodes
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è
```sh
  cp .env.example .env
```

### 3. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
```sh
  make up
```

### 4. –Ü–º–ø–æ—Ä—Ç –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (—Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø—É—Å–∫—É)
```sh
  make db
```

### 5. –î–æ—Å—Ç—É–ø –¥–æ –±–µ–∫–µ–Ω–¥—É —Ç–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É
–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ —Å–µ—Ä–≤—ñ—Å–∏ –±—É–¥—É—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ñ –∑–∞ –Ω–∞—Å—Ç—É–ø–Ω–∏–º–∏ –∞–¥—Ä–µ—Å–∞–º–∏:

- **–ë–µ–∫–µ–Ω–¥ API (Slim 4):** [http://localhost:8001/](http://localhost:8001/)
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥ (Vue.js):** [http://localhost:5173/](http://localhost:5173/)
- **Swagger UI:** [http://localhost:8081/](http://localhost:8081/)


## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### 1. –ó–∞–ø—É—Å–∫ —ñ–º–ø–æ—Ä—Ç—É –≤—Ä—É—á–Ω—É
```sh
  make import
```

### 2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª–æ–≥—ñ–≤ cron
```sh
  make cron
```

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —ñ–º–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ cron
–Ü–º–ø–æ—Ä—Ç –ø–æ—à—Ç–æ–≤–∏—Ö —ñ–Ω–¥–µ–∫—Å—ñ–≤ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∫–æ–∂–Ω–æ–≥–æ –¥–Ω—è –æ **00:00**. Cron-–∑–∞–≤–¥–∞–Ω–Ω—è –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è —É Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ API –¥–ª—è —ñ–Ω–¥–µ–∫—Å—ñ–≤

API –Ω–∞–¥–∞—î –¥–æ—Å—Ç—É–ø –¥–æ –¥–∞–Ω–∏—Ö –ø–æ—à—Ç–æ–≤–∏—Ö —ñ–Ω–¥–µ–∫—Å—ñ–≤. –ù–∏–∂—á–µ –Ω–∞–≤–µ–¥–µ–Ω–æ –æ—Å–Ω–æ–≤–Ω—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏:

### üîπ –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –ø–æ—à—Ç–æ–≤—ñ —ñ–Ω–¥–µ–∫—Å–∏
```
GET /api/post-indexes
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞–ø–∏—Ç—É:**
- `postal_code` (string) - —Ñ—ñ–ª—å—Ç—Ä –∑–∞ –ø–æ—à—Ç–æ–≤–∏–º —ñ–Ω–¥–µ–∫—Å–æ–º
- `settlement` (string) - —Ñ—ñ–ª—å—Ç—Ä –∑–∞ –Ω–∞—Å–µ–ª–µ–Ω–∏–º –ø—É–Ω–∫—Ç–æ–º
- `page` (integer) - –Ω–æ–º–µ—Ä —Å—Ç–æ—Ä—ñ–Ω–∫–∏ (–ø–∞–≥—ñ–Ω–∞—Ü—ñ—è)
- `limit` (integer) - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Å—ñ–≤ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (200 OK):**
```json
[
  {
    "id": 1,
    "oblast": "–ö–∏—ó–≤—Å—å–∫–∞",
    "old_district": "–ö–∏—î–≤–æ-–°–≤—è—Ç–æ—à–∏–Ω—Å—å–∫–∏–π",
    "new_district": "–ë—É—á–∞–Ω—Å—å–∫–∏–π",
    "settlement": "–ë–æ—è—Ä–∫–∞",
    "postal_code": "08150",
    "region": "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π",
    "district_new": "–ë—É—á–∞–Ω—Å—å–∫–∏–π",
    "settlement_eng": "Boiarka",
    "post_branch": "–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è ‚Ññ1",
    "post_office": "–£–∫—Ä–ø–æ—à—Ç–∞",
    "post_code_office": "08150"
  }
]
```

### üîπ –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π –ø–æ—à—Ç–æ–≤–∏–π —ñ–Ω–¥–µ–∫—Å
```
POST /api/post-indexes
```
**–¢—ñ–ª–æ –∑–∞–ø–∏—Ç—É (JSON):**
```json
{
  "oblast": "–í—ñ–Ω–Ω–∏—Ü—å–∫–∞",
  "old_district": "–í—ñ–Ω–Ω–∏—Ü—å–∫–∏–π",
  "new_district": "–í—ñ–Ω–Ω–∏—Ü—å–∫–∏–π",
  "settlement": "–í—ñ–Ω–Ω–∏—Ü—è",
  "postal_code": "21004",
  "region": "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π",
  "district_new": "–í—ñ–Ω–Ω–∏—Ü—å–∫–∏–π —Ä–∞–π–æ–Ω",
  "settlement_eng": "Vinnytsia",
  "post_branch": "–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è ‚Ññ4",
  "post_office": "–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è ‚Ññ4",
  "post_code_office": "21004-4"
}
```
**–í—ñ–¥–ø–æ–≤—ñ–¥—ñ:**
- `201 Created` - –£—Å–ø—ñ—à–Ω–æ –¥–æ–¥–∞–Ω–æ
- `400 Bad Request` - –ù–µ–≤—ñ—Ä–Ω–∏–π –∑–∞–ø–∏—Ç
- `500 Internal Server Error` - –ü–æ–º–∏–ª–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

### üîπ –û—Ç—Ä–∏–º–∞—Ç–∏ —ñ–Ω–¥–µ–∫—Å –∑–∞ –∫–æ–¥–æ–º
```
GET /api/post-indexes/{postal_code}
```
**–ü—Ä–∏–∫–ª–∞–¥:**
```
GET /api/post-indexes/08150
```
**–í—ñ–¥–ø–æ–≤—ñ–¥—å (200 OK):**
```json
{
  "id": 1,
  "oblast": "–ö–∏—ó–≤—Å—å–∫–∞",
  "old_district": "–ö–∏—î–≤–æ-–°–≤—è—Ç–æ—à–∏–Ω—Å—å–∫–∏–π",
  "new_district": "–ë—É—á–∞–Ω—Å—å–∫–∏–π",
  "settlement": "–ë–æ—è—Ä–∫–∞",
  "postal_code": "08150",
  "region": "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π",
  "district_new": "–ë—É—á–∞–Ω—Å—å–∫–∏–π",
  "settlement_eng": "Boiarka",
  "post_branch": "–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è ‚Ññ1",
  "post_office": "–£–∫—Ä–ø–æ—à—Ç–∞",
  "post_code_office": "08150"
}
```

### üîπ –í–∏–¥–∞–ª–∏—Ç–∏ –ø–æ—à—Ç–æ–≤–∏–π —ñ–Ω–¥–µ–∫—Å
```
DELETE /api/post-indexes/{postal_code}
```
**–ü—Ä–∏–∫–ª–∞–¥:**
```
DELETE /api/post-indexes/08150
```
**–í—ñ–¥–ø–æ–≤—ñ–¥—ñ:**
- `200 OK` - –£—Å–ø—ñ—à–Ω–æ –≤–∏–¥–∞–ª–µ–Ω–æ
- `404 Not Found` - –ü–æ—à—Ç–æ–≤–∏–π —ñ–Ω–¥–µ–∫—Å –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
- `500 Internal Server Error` - –ü–æ–º–∏–ª–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

## –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó
- PHP 8.2
- Slim 4
- Vue.js
- MySQL
- Docker

## –ü–æ—Å–∏–ª–∞–Ω–Ω—è
- [Slim Framework](https://www.slimframework.com/)
- [Docker](https://www.docker.com/)